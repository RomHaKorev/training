\title{Crafting Unit Tests}
%\author{
%  Olivier Albiez \texttt{@OlivierAlbiez} \\
%  Yann Danot \texttt{@ydannot}
%}


% \setbeamertemplate{title page}{
%   \begin{minipage}[b][\paperheight]{\textwidth}
%     \centering
%     \ifx\inserttitlegraphic\@empty\else\usebeamertemplate*{title graphic}\fi
%     \vfill%
%     \ifx\inserttitle\@empty\else\usebeamertemplate*{title}\fi
%     \ifx\insertsubtitle\@empty\else\usebeamertemplate*{subtitle}\fi
%     %\usebeamertemplate*{title separator}
%     \ifx\beamer@shortauthor\@empty\else\usebeamertemplate*{author}\fi
%     \ifx\insertdate\@empty\else\usebeamertemplate*{date}\fi
%     \ifx\insertinstitute\@empty\else\usebeamertemplate*{institute}\fi
%     \vfill
%     \vspace*{1mm}
%   \end{minipage}
% }

% \setbeamertemplate{title}{
% %  \raggedright%
%   \linespread{1.0}%
%   \inserttitle%
%   \par%
%   \vspace*{0.5em}
% }


\newcommand{\goodbad}[1]{
  \begin{tikzpicture}[remember picture,overlay]
    \node[inner sep=0] (image) at (current page.center) {
      \includegraphics[width=\paperwidth]{images/good_hunter}
    };
    \begin{scope}[x={(image.south east)},y={(image.north west)}]
      \node[
        ellipse callout,
        fill=gray!50,
        callout absolute pointer={(0.55,0.80)},
        text width=3cm,
        align=flush center,
        node font=\tiny,
        minimum height=1em] at (0.32,1) {#1};
    \end{scope}
  \end{tikzpicture}
}


\input{content/pyramid.tex}
\input{content/system.tex}

\begin{document}



\begin{frame}[noframenumbering,plain]
  \titlepage
\end{frame}


%Les objectifs de la formation :
%– Etre sensibilisé à l’écriture des tests
%– Apprendre à écrire des vrais tests unitaires (TU)
%– Ecrire des tests lisibles et maintenables


\input{content/sections/definitions}
\input{content/sections/test_strategy}
\input{content/sections/why_unit_test}
\section{Good practices}

\begin{frame}
  \goodbad{There are good tests and bad tests}
\end{frame}


\begin{frame}
  \singletext{What is a "good" unit test ?}
\end{frame}


\input{content/sections/first_principles}
\input{content/sections/good_unit_test}
\input{content/sections/test_doubles}

\begin{frame}{Summary}
  A \alert{good} unit test is
  \begin{itemize}
    \item \alert{Readable}
      \begin{itemize}
        \item Simple Behavior
        \item Storytelling with persona
      \end{itemize}
    \item \alert{Maintainable}
      \begin{itemize}
        \item Independent of implementation
        \item Black box
      \end{itemize}
    \item \alert{Verifiable}
      \begin{itemize}
        \item Custom assertions
        \item Challengeable
      \end{itemize}
  \end{itemize}
\end{frame}


\input{content/sections/test_failing}

\end{document}
